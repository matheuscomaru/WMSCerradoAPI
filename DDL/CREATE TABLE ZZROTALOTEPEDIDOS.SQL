CREATE TABLE ZZROTALOTEPEDIDOS (
	CHAVE INTEGER NOT NULL,
	ATIVO SMALLINT NOT NULL,
	CHAVEEMPRESA INTEGER,
	DATAHORACADADASTRO TIMESTAMP,
	DATAHORAALTERACAO TIMESTAMP,
	CHAVELOTPEDIDO INTEGER,
	CHAVETMSFRETE INTEGER,
	CODROTA VARCHAR(6),
	ROTA VARCHAR(50),
	CHAVEROTA INTEGER,
	CONSTRAINT "ZZROTALOTEPEDIDOS_PK" PRIMARY KEY (CHAVE)
);

CREATE GENERATOR GEN_ZZROTALOTEPEDIDOS_ID;
			    
			    
CREATE OR ALTER TRIGGER ZZROTALOTEPEDIDOS_ID FOR ZZROTALOTEPEDIDOS BEFORE INSERT 
AS BEGIN 
	IF (NEW.CHAVE IS NULL) THEN BEGIN
		NEW.CHAVE = GEN_ID(GEN_ZZROTALOTEPEDIDOS_ID, 1); 
	END
	NEW.DATAHORACADADASTRO = 'NOW';
END